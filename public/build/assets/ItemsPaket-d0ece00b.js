import{r as i,q as W,j as e,y as _}from"./app-7fb21f07.js";import{H as G}from"./Helmet-6ff30b06.js";import{G as O,a as V}from"./index.esm-4f1570b3.js";import{T as q,F as z}from"./index.esm-9b0e51e0.js";import{u as B,a as J}from"./index-4dc3b848.js";import{n as x}from"./no-image-c6047506.js";import{M as K}from"./Modal-10e4aba4.js";import Q from"./PaketEdit-dd6b7c44.js";import{Q as k}from"./react-toastify.esm-8b6e2cdf.js";import{m as o,A as N}from"./index-8dd28517.js";function U(n){return O({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320L192 192m0 128l128-128"}}]})(n)}const X="/build/assets/umroh-6db9e710.jpg";function he({datas:n,sendDataToParent:Y,edit:Z,delet:ee,dataEdit:te}){const[c,u]=i.useState(!1),[r,d]=i.useState(!1),[v,E]=i.useState(!1),[f,S]=i.useState(),[l,C]=i.useState(),[m,g]=i.useState(),[p,D]=i.useState(),h=B(),[I,b]=J({triggerOnce:!0}),T=W();i.useEffect(()=>{b&&h.start({opacity:1,y:0})},[h,b]);const $=async a=>{const t=n.data.find(s=>s.id==a.id);if(t){const{img:s}=t;(await fetch(`/storage/images/${s}`)).ok?g("/storage/images/"+s):g(x),D(p),u(!c)}},F=()=>{window.open(`https://api.whatsapp.com/send/?phone=${6281334264357}&text=${p}&type=phone_number&app_absent=0`,"_blank")};function P(a){const t=n.data.find(s=>s.id===a);d(!r),C(t)}const A=async a=>{a.preventDefault();try{_.delete(`paket/${l.id}`),k.warn("Done"),d(!r)}catch(t){k.error("Telah Terjadi Error"),console.error(t)}};function y(a){const t=n.data.find(s=>s.id===a);E(!v),S(t)}const H=i.useRef(null),L=i.useRef(null),[j,M]=i.useState([]),[R,w]=i.useState(!0);return i.useEffect(()=>{const a=async t=>{try{return(await fetch(`/storage/images/${t}`)).ok}catch{return!1}};if(n.data){const t=n.data.map(s=>a(s.img));Promise.all(t).then(s=>{M(s),w(!1)}).catch(s=>{console.error("Error checking image existence:",s)})}},[n==null?void 0:n.data]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 ml-8 sm:ml-0",id:"pilihan-paket",children:[e.jsx(G,{children:e.jsx("link",{href:"https://fonts.cdnfonts.com/css/jano-sans-pro",rel:"stylesheet"})}),n.data.map((a,t)=>e.jsx(o.span,{className:"flex items-center  mt-5 w-[125%] sm:w-[100%]",whileHover:{scale:1.1},children:!R&&e.jsx(e.Fragment,{children:e.jsxs(o.span,{className:"flex border items-center",ref:I,initial:{opacity:0,y:20},animate:h,transition:{duration:.6},children:[e.jsx("div",{className:"flex items-center justify-center ",children:e.jsx("img",{src:j[t]?`/storage/images/${a.img}`:x,alt:"image",width:j[t]?270:170,className:"shadow-md my-5 mx-5",onClick:()=>$(a),onLoad:()=>w(!1)})}),T.props.auth.user&&e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(o.button,{whileHover:{backgroundColor:"rgb(203 213 225)",cursor:"pointer"},whileTap:{scale:.5},className:"bg-slate-100 bg-opacity-50 backdrop-filter backdrop-blur-lg  backdrop-saturate-150 shadow-sm p-2 rounded-full",onClick:()=>P(a.id),name:"buttonDelete",children:e.jsx(q,{className:"text-red-500 text-xl"})}),e.jsx(o.button,{whileHover:{backgroundColor:"rgb(203 213 225)",cursor:"pointer"},whileTap:{scale:.5},className:"bg-slate-100 bg-opacity-50 backdrop-filter backdrop-blur-lg  backdrop-saturate-150 shadow-sm p-2 rounded-full",onClick:()=>y(a.id),name:"buttonEdit",children:e.jsx(z,{className:"text-yellow-500 ml-0.5 text-xl"})})]})]})})},t)),m&&e.jsx(K,{id:p,show:c,children:e.jsxs("div",{className:"bg-center bg-no-repeat bg-cover  flex flex-col justify-center items-center",style:{backgroundImage:`url(${X})`},children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{onClick:()=>u(!c),children:e.jsx(U,{className:"text-white text-2xl font-semibold my-2"})})}),e.jsx("img",{srcSet:m||x,width:314,height:457}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"bg-green-700 flex px-5 rounded-md py-2 my-2 text-xl text-white gap-x-3 hover:cursor-pointer",style:{fontFamily:"Jano Sans Pro, sans-serif"},onClick:F,children:[e.jsx("button",{children:e.jsx(V,{})}),e.jsx("span",{className:"text-md font-medium",children:"Chat Admin"})]})})]})}),e.jsx(N,{children:f&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 backdrop-blur-sm left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(o.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"bg-white w-1/3 p-4 rounded-md modal",ref:H,children:e.jsx(Q,{datas:f,closeModal:()=>y()})})})}),e.jsx(N,{children:l&&r&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 backdrop-blur-sm left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs(o.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"bg-white w-1/3 p-4 rounded-md modal",ref:L,children:[e.jsxs("p",{children:["Yakin ingin menghapus ",l.name,"?"]}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-center items-center rounded-md ",children:e.jsx("img",{src:`/storage/images/${l.img}`,alt:"Image Preview",style:{maxWidth:"160px"},className:"rounded-md drop-shadow-md"})})}),e.jsxs("div",{className:"flex justify-between mt-5",children:[e.jsx("button",{onClick:()=>d(!r),className:"py-2 px-4 rounded-md bg-[#ce2f2f] text-white font-semibold",children:"Kembali"}),e.jsx("form",{onSubmit:A,children:e.jsx("button",{type:"submit",className:"py-2 px-4 rounded-md bg-[#C69749] text-white font-semibold",children:"Hapus"})})]})]})})})]})})}export{he as I};

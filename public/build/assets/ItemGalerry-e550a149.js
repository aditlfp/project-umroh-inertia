import{r as i,q as k,j as e,y as v}from"./app-7fb21f07.js";import D from"./FotoEdit-27f852db.js";import{T as E,F as S}from"./index.esm-9b0e51e0.js";import{Q as p}from"./react-toastify.esm-8b6e2cdf.js";import{m as a,A as x}from"./index-8dd28517.js";function I({datas:l}){const[r,o]=i.useState(!1),[u,h]=i.useState(!1),[c,f]=i.useState(),[n,b]=i.useState(),y=i.useRef(),g=i.useRef(),j=k();function m(t){const s=l.data.find(d=>d.id===t);h(!u),b(s)}function w(t){const s=l.data.find(d=>d.id===t);o(!r),f(s)}const N=async t=>{t.preventDefault();try{v.delete(`galery/${c.id}`),p.warn("Done"),o(!r)}catch(s){p.error("Telah Terjadi Error"),console.error(s)}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[l==null?void 0:l.data.map((t,s)=>e.jsx(a.span,{className:"flex items-center mt-5 w-[125%] sm:w-[100%]",children:e.jsxs(a.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"shadow-md flex border items-center",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("img",{srcSet:`/storage/images/${t.img}`,alt:"image",width:270,className:"shadow-md my-5 mx-5"})}),j.props.auth.user&&e.jsxs("div",{className:"flex flex-col gap-y-2 ",children:[e.jsx(a.button,{whileHover:{backgroundColor:"rgb(203 213 225)",cursor:"pointer"},whileTap:{scale:.5},className:"bg-slate-100 bg-opacity-50 backdrop-filter backdrop-blur-lg  backdrop-saturate-150 shadow-sm p-2 rounded-full",onClick:()=>w(t.id),name:"buttonEdit",children:e.jsx(E,{className:"text-red-500 text-xl"})}),e.jsx(a.button,{whileHover:{backgroundColor:"rgb(203 213 225)",cursor:"pointer"},whileTap:{scale:.5},className:"bg-slate-100 bg-opacity-50 backdrop-filter backdrop-blur-lg  backdrop-saturate-150 shadow-sm p-2 rounded-full",onClick:()=>m(t.id),name:"buttonDelete",children:e.jsx(S,{className:"text-yellow-500 ml-0.5 text-xl"})})]})]},s)},s)),e.jsx(x,{children:n&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 backdrop-blur-sm left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:e.jsx(a.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"bg-white w-1/3 p-4 rounded-md modal",ref:g,children:e.jsx(D,{datas:n,closeModal:()=>m()})})})}),e.jsx(x,{children:c&&r&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed top-0 backdrop-blur-sm left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs(a.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"bg-white w-1/3 p-4 rounded-md modal",ref:y,children:[e.jsx("p",{children:"Yakin ingin menghapus Foto ini?"}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-center items-center rounded-md ",children:e.jsx("img",{src:`/storage/images/${c.img}`,alt:"Image Preview",style:{maxWidth:"160px"},className:"rounded-md drop-shadow-md"})})}),e.jsxs("div",{className:"flex justify-between mt-5",children:[e.jsx("button",{onClick:()=>o(!r),className:"py-2 px-4 rounded-md bg-[#ce2f2f] text-white font-semibold",children:"Kembali"}),e.jsx("form",{onSubmit:N,children:e.jsx("button",{type:"submit",className:"py-2 px-4 rounded-md bg-[#C69749] text-white font-semibold",children:"Hapus"})})]})]})})})]})})}export{I};

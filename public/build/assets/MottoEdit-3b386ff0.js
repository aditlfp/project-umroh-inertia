import{W as b,r as v,j as e,y}from"./app-7fb21f07.js";import{T as N,I as i}from"./TextInput-017e18f9.js";import{I as c}from"./InputLabel-a94d4e82.js";import{Q as u}from"./react-toastify.esm-8b6e2cdf.js";function E({closeModal:n,hotel:m,datas:a}){const{data:t,setData:r,post:I,processing:w,errors:d,reset:k}=b({name:a.name,desc:a.desc,hotel_id:a.hotel.id}),[o,x]=v.useState(a.hotel.img),h=s=>{const l=parseInt(s.target.value),f=m.find(g=>g.id==l);x(f.img);const j=parseInt(s.target.value);r("hotel_id",j)},p=async s=>{s.preventDefault();try{y.post(`motto-section/${a.id}`,{_method:"patch",name:t.name,desc:t.desc,hotel_id:t.hotel_id}),u.success("Done"),n()}catch(l){u.error("Telah Terjadi Error"),console.error(l)}};return e.jsxs("div",{className:o&&"flex justify-around",children:[e.jsxs("form",{onSubmit:p,className:o?"w-full":"mx-5",encType:"multipart/form-data",children:[e.jsx("span",{className:"flex justify-center items-center text-lg font-bold",children:e.jsx("p",{children:"Tambah Motto"})}),e.jsxs("div",{className:"my-2 flex flex-col",children:[e.jsx(c,{htmlFor:"name",value:"Nama"}),e.jsx(N,{id:"name",type:"name",name:"name",value:t.name,className:"mt-1 h-10 block w-full border",onChange:s=>r("name",s.target.value),placeholder:"Masukkan nama motto..."}),e.jsx(i,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{className:"my-2 flex flex-col",children:[e.jsx("label",{children:"Deskripsi"}),e.jsx("textarea",{cols:"5",rows:"5",className:"rounded-lg drop-shadow-md",placeholder:"Masukkan deskripsi...",onChange:s=>r("desc",s.target.value),name:"desc",value:t.desc}),e.jsx(i,{message:d.desc,className:"mt-2"})]}),e.jsxs("div",{className:"my-2 flex flex-col",children:[e.jsx(c,{htmlFor:"hotel_id",value:"Pilih Hotel"}),e.jsxs("select",{value:t.hotel_id||"",onChange:h,className:"border rounded-lg p-2",defaultValue:"0",children:[e.jsx("option",{value:"0","aria-readonly":"true",children:"~ Pilih Hotel ~"}),m.map((s,l)=>e.jsxs("option",{value:s.id,children:["Foto Hotel ",l+1]},s.id))]})]}),e.jsxs("div",{className:"flex justify-between mt-5",children:[e.jsx("button",{type:"button",onClick:n,className:"py-2 px-4 rounded-md bg-[#ce2f2f] text-white font-semibold",children:"Kembali"}),e.jsx("button",{type:"submit",className:"py-2 px-4 rounded-md bg-[#C69749] text-white font-semibold",children:"Submit"})]})]}),o&&e.jsx("div",{className:" w-full flex items-center justify-center aspect-auto drop-shadow-md",children:e.jsx("img",{src:`/storage/images/${o}`,width:200,alt:"",className:"rounded-md"})})]})}export{E as default};
